# –ü—Ä–æ–¥–µ–ª–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞
1. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ë–î AdventureWorks2019  üëçüèª
2. –í—ã–±—Ä–∞–Ω—ã 5 —Ç–∞–±–ª–∏—Ü:Person.Person, Person.EmailAddress, Person.Address, Person.Password, Person.Phone.  
Person.Address —Å–≤—è–∑–∞–Ω–∞ AddressID, –æ—Å—Ç–∞–ª—å–Ω—ã–µ - BusinessID  üëçüèª
3. –ù–∞–ø–∏—Å–∞–Ω–æ 5 —Ö—Ä–∞–Ω–∏–º—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä. –ü—Ä–∏–º–µ—Ä –æ–¥–Ω–æ–π –∏–∑ –Ω–∏—Ö:  üëçüèª
```
USE [AdventureWorks2019]   
GO   
SET ANSI_NULLS ON   
GO   
SET QUOTED_IDENTIFIER ON  
GO  
ALTER PROCEDURE [dbo].[GetEmailByBuid]   
	@bid int  
AS  
BEGIN  
	SET NOCOUNT ON;  
	SELECT EmailAddress, BusinessEntityID  
	FROM AdventureWorks2019.Person.EmailAddress  
	WHERE BusinessEntityID = @bid  
END  
```
4. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å–ª–æ–π DataAccessLayer, –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å 5 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –º–æ–¥–µ–ª—è—Ö PersonalInfo, LoginInfo –∏ AddressInfo  üëçüèª
5. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å–ª–æ–π ServiceLayer(ServiceModel) —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î, –∫–æ—Ç–æ—Ä–∞—è –±–µ—Ä–µ—Ç—Å—è –∏–∑ ServiceConfig.json —Å –ø–æ–º–æ—â—å—é ConfigProvider –∏–∑ 3 –ª–∞–±—ã  üëçüèª
6. –í—Å–µ —Ä–∞–∑–Ω–µ—Å–µ–Ω–æ –≤ —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã  üëçüèª
7. –î–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç  üëçüèª
8. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω XmlCreator, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç XML –¥–æ–∫—É–º–µ–Ω—Ç –∏ XSD —Å—Ö–µ–º—É –º–æ–¥–µ–ª–∏ ServiceModel  üëçüèª
9. –í XmlCreator –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—É—Ç—å –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –Ω–∞–¥–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å XML –∏ XSD  üëçüèª
10. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –≤ –≤–∏–¥–µ –º–æ–¥–µ–ª–∏ ServiceModel   üëçüèª
11. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —á–∏—Ç–∞–µ–º –∏–∑ ServiceConfig.json   üëçüèª
12. –í —Ä–µ—à–µ–Ω–∏–∏ –µ—Å—Ç—å 6 –ø—Ä–æ–µ–∫—Ç–æ–≤  üëçüèª
13. –°–æ–∑–¥–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è. –û–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–∞–±–ª–∏—Ü—É Errors —Å –ø–æ–ª—è–º–∏ –¥–ª—è –∑–∞–ø–∏—Å–∏ –æ—à–∏–±–æ–∫ –∏ —Ö—Ä–∞–Ω–∏–º—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É:  üëçüèª
```
USE [ErrorLogging]  
GO  
SET ANSI_NULLS ON  
GO  
SET QUOTED_IDENTIFIER ON  
GO  
ALTER PROCEDURE [dbo].[AddError]  
	@errorMess nvarchar(MAX),  
	@time datetime  
AS  
BEGIN  
	SET NOCOUNT ON;  
	INSERT INTO Errors(ErrorMessage, DateTime)  
	VALUES (@errorMess, @time)  
END  
```
–¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫  
![Image alt](https://github.com/OMWi/lab4-sql-/blob/main/–¢–∞–±–ª–∏—Ü–∞–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.jpg)  
14. –°–æ–∑–¥–∞–Ω —Å–ª–æ–π LoggerLayer, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü—É –ë–î  üëçüèª  
15. –í–µ–∑–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ö—Ä–∞–Ω–∏–º—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã, –Ω–æ –Ω–µ –≤ TransactionScope  üëçüèª?  
16. –í—Å–µ —Ä–∞–∑–±–∏—Ç–æ –Ω–∞ —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞–º–∏  üëçüèª  
17. –°—Ç–∞—Ç–∏–∫–∞ –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. –¢–∞–∫–∂–µ ORM-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∞–≤—Ç–æ–º–∞–ø–ø–µ—Ä—ã –∏ –¥—Ä—É–≥–∏–µ –∑–∞–ø—Ä–µ—Ç–Ω—ã–µ –≤–µ—â–∏ –Ω–µ –±—ã–ª–∏ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω—ã.  üëçüèª   
